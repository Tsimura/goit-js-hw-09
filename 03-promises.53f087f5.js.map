{"version":3,"sources":["js/03-promises.js"],"names":["ref","form","document","querySelector","firstDelay","delayStep","amount","btn","addEventListener","onFormSubmit","DELAY","createPromise","position","delay","console","log","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","setPromises","v","i","then","onSuccess","catch","onError","result","error","event","preventDefault","formElement","currentTarget","elements","delayEl","parseInt","value","stepEl","step","amountEl","formData","createDalay","reset","values","Object","delayValue"],"mappings":";AAAA,MAAMA,EAAM,CACVC,KAAMC,SAASC,cAAc,QAC7BC,WAAYF,SAASC,cAAc,uBACnCE,UAAWH,SAASC,cAAc,sBAClCG,OAAQJ,SAASC,cAAc,wBAC/BI,IAAKL,SAASC,cAAc,0BAG9BH,EAAIC,KAAKO,iBAAiB,SAAUC,GAEpC,IAAIC,EAAQ,IAEZ,SAASC,EAAcC,EAAUC,GAGxB,OAFPC,QAAQC,IAAI,iBAAkBL,GAEvB,IAAIM,QAAQ,CAACC,EAASC,KACrBC,MAAAA,EAAgBC,KAAKC,SAAW,GAEtCC,WAAW,KACLH,EACFF,EAAQ,yBAERC,EAAO,wBAERR,KAIP,SAASa,EAAYC,EAAGX,GACjB,IAAA,IAAIY,EAAI,EAAGA,EAAID,EAAGC,GAAK,EAE1Bf,GAAS,IACTC,IAAgBe,KAAKC,GAAWC,MAAMC,GAI1C,SAASF,EAAUG,GACjBhB,QAAQC,IAAIe,GAGd,SAASD,EAAQE,GACfjB,QAAQC,IAAIgB,GAGd,SAAStB,EAAauB,GACpBA,EAAMC,iBACAC,MAAAA,EAAcF,EAAMG,cAAcC,SAClCC,EAAUC,SAASJ,EAAYrB,MAAM0B,OACrCC,EAASF,SAASJ,EAAYO,KAAKF,OACnCG,EAAWJ,SAASJ,EAAY5B,OAAOiC,OACvCI,EAAW,CAAEN,QAAAA,EAASG,OAAAA,EAAQE,SAAAA,GAEpC5B,QAAQC,IAAI,YAAa4B,GAKzBC,EAAYP,EAASG,EAAQE,GAC7BnB,EAAYmB,GAEZ1C,EAAIC,KAAK4C,QAGX,SAASD,EAAY/B,EAAO4B,EAAMnC,GAC1BwC,MAAAA,EAASC,OAAOD,OAAO,CAAEjC,MAAAA,EAAO4B,KAAAA,EAAMnC,OAAAA,IAC5CQ,QAAQC,IAAI+B,GACRE,IAAAA,EAAa,EAEZ,IAAA,MAAMT,KAASO,EAClBE,GAAcT,EACdzB,QAAQC,IAAIiC","file":"03-promises.53f087f5.js","sourceRoot":"../src","sourcesContent":["const ref = {\n  form: document.querySelector('form'),\n  firstDelay: document.querySelector('input[name=\"delay\"]'),\n  delayStep: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n  btn: document.querySelector('button[type=\"submit\"]'),\n};\n\nref.form.addEventListener('submit', onFormSubmit);\n\nlet DELAY = 1000;\n\nfunction createPromise(position, delay) {\n  console.log('Current DELAY:', DELAY);\n  // DELAY += position;\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve('✅ Fulfilled promise! ');\n      } else {\n        reject('❌ Rejected promise!');\n      }\n    }, DELAY);\n  });\n}\n\nfunction setPromises(v, delay) {\n  for (let i = 0; i < v; i += 1) {\n    // console.log(i);\n    DELAY += 1000;\n    createPromise().then(onSuccess).catch(onError);\n  }\n}\n\nfunction onSuccess(result) {\n  console.log(result);\n}\n\nfunction onError(error) {\n  console.log(error);\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const formElement = event.currentTarget.elements;\n  const delayEl = parseInt(formElement.delay.value);\n  const stepEl = parseInt(formElement.step.value);\n  const amountEl = parseInt(formElement.amount.value);\n  const formData = { delayEl, stepEl, amountEl };\n\n  console.log('formData:', formData);\n  // console.log('delayEl:', delayEl);\n  // console.log('stepEl:', stepEl);\n  // console.log('amountEl:', amountEl);\n\n  createDalay(delayEl, stepEl, amountEl);\n  setPromises(amountEl);\n\n  ref.form.reset();\n}\n\nfunction createDalay(delay, step, amount) {\n  const values = Object.values({ delay, step, amount });\n  console.log(values);\n  let delayValue = 0;\n\n  for (const value of values) {\n    delayValue += value;\n    console.log(delayValue);\n  }\n}\n\n// createCunter(5);\n// function createCunter(amount) {\n//   // makeDelay(1, 1, 2);\n//   for (let i = 0; i < amount; i += 1) {\n//     let amount = 1;\n//     amount += i;\n//     // console.log(amount);\n\n//     createPromise(2, 1500).then(({ position, delay }) => {\n//       console.log(`✅ Fulfilled promise ${amount} in ${i + 1}ms`);\n//     });\n//     // delay += amount;\n//   }\n// }\n"]}